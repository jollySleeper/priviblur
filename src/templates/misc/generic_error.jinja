{# Displays information about some generic exception to the user #}

{% extends "base.jinja" %}
{% from 'macros/render_error_details.jinja' import render_error_details with context  %}
{% block head %}
<style>
#priviblur-error > div {
    background-color: var(--color-top-level-card-bg);
    border-radius: 25px;
    padding: 25px;
    max-width: 100%;
}

#priviblur-error h2 {
    margin: 0;
}

#priviblur-error {
    color: var(--color-text);
}

#priviblur-error details {
    margin-top: 20px;
}

#priviblur-error pre {
    text-wrap: wrap;
}

#priviblur-error a {
    text-decoration: underline;
}

#error-header {
    font-size: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

@media screen and (min-width: 768px) {
    #priviblur-error pre {
        text-wrap: nowrap;
    }

    #priviblur-error > div {
        max-width: unset;
        width: fit-content;
    }
}

}
</style>

{% endblock %}
{% block title %}{{translate(request.ctx.language, "priviblur_error_page_title")}}{% endblock %}

{% block center %}
<section id="priviblur-error">
    <div class="card">
        <div id="error-header">
            <h2>{{translate(request.ctx.language, "priviblur_error_generic")}}</h2>
            <p>{{translate(request.ctx.language, "priviblur_error_generic_description")}}</p>
            <a href="https://github.com/syeopite/priviblur/issues/new">{{translate(request.ctx.language, "priviblur_error_generic_description_2")}}</a>
        </div>

        {{render_error_details(exception_name, exception_message, exception_context)}}
    </div>
</section>
{%- endblock %}
